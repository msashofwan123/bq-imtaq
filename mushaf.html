<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <title>Mushaf Al-Qur'an</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="assets/css/fontawesome.css">
  <link rel="stylesheet" href="assets/css/templatemo-onix-digital.css">
  <link rel="stylesheet" href="assets/css/animated.css">
  <link rel="stylesheet" href="assets/css/owl.css">
  <link rel="stylesheet" href="assets/css/mushaf.css">

  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>

</head>

<body>

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky wow slideInDown" data-wow-duration="0.75s" data-wow-delay="0s">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <!-- ***** Logo Start ***** -->
            <a href="index.html" class="logo">
              <img src="assets/images/logo.png">
            </a>
            <!-- ***** Logo End ***** -->
            <!-- ***** Menu Start ***** -->
            <ul class="nav">
              <li class="scroll-to-section"><a href="index.html" class="active">Home</a></li>
              <li class="scroll-to-section"><a href="index.html#services">Keunggulan</a></li>
              <li class="scroll-to-section"><a href="index.html#about">Visi</a></li>
              <li class="scroll-to-section"><a href="index.html#portfolio">Ekstrakurikuler</a></li>
              <li class="scroll-to-section"><a href="index.html#contact">Hubungi Kami</a></li>
              <li class="scroll-to-section"><a href="mushaf.html">Surat Al-Qur'an</a></li>
              <li class="scroll-to-section"><a href="api.php">API Pendaftar</a></li>
              <li class="scroll-to-section">
                <div class="main-red-button-hover"><a href="coming soon/index.html">Daftar Sekarang</a></div>
              </li>
            </ul>
            <a class='menu-trigger'>
              <span>Menu</span>
            </a>
            <!-- ***** Menu End ***** -->
          </nav>
        </div>
      </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  </br></br></br></br>

  <div class="container">
    <div class="row">
      <div class="col-lg-4">
        </br>
        <h2 style="text-align:center">TAMPILAN SURAT</h2>
        <div class="main-blue-button-hover" style="text-align:center;"><a href="#" id="get-data" >TAMPILKAN SURAT
            AL-QUR'AN</a></div>
        <div id="show-data" class="auto"></div>
      </div>

      <div class="col-lg-2">
      </div>

      <div class="col-lg-6">
        </br>
        <H2 style="text-align:center" id="event">TAMPILAN AYAT</H2>
        <div class="main-blue-button" style="text-align:center;"><a href="#">TAMPILKAN AYAT DARI SURAT</a></div>
        <div id="show-ayah"></div>
      </div>
    </div>
  </div>


  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="copyright">
            <p>Copyright Â© 2022 Baitul Qur'an Wonogiri | All Rights Reserved.
              <br>
              Designed by <a rel="nofollow" href="https://shofwan-cv.netlify.app/" title="Web Designer">El-Rasheed</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- <script>

    $(document).ready(() => {

      const $showData = $('#show-data');
      const $raw = $('pre');

      $('#get-data').on('click', (event) => {
        //  jangan refresh halaman    
        event.preventDefault();

        $showData.text('Loading the JSON file.');

        $.getJSON('https://api.alquran.cloud/v1/surah', (respon) => {
          console.log(respon.code);
          console.log(respon.status);

          const head = '<thead><tr><th>No</th><th>Surat</th></tr></thead>'
          const markup = respon.data
            .map(item => `
  <tr class="surat" data-idsurat="${item.number}">
    <td>${item.number}</td>
    <td>${item.name}</td>
  </tr>
`)
            .join('');

          const list = $('<table/>').html(head + markup);

          $showData.html(list);

          $('.surat').on('click', function (event) {
          console.log($(event.target).data("nomer"));
      });

        });
      });

    });

  </script> -->

  <script>
    $(document).ready(() => {

      const $showAyah = $('#show-ayah');
      const $showData = $('#show-data');

      $('#get-data').on('click', (event) => {
        //  jangan refresh halaman    
        event.preventDefault();

        $showData.text('Loading the JSON file.');

        // get json di endpoint
        $.getJSON('https://api.alquran.cloud/v1/surah', (respon) => {
          console.log(respon.code);
          console.log(respon.status);

          // mengatur ulang format respon dari json menjadi html
          const head = ''
          const markup = respon.data
            .map(item => `
            <tr>
            <td class="surat" data-idsurat="${item.number}" data-namesurat="${item.englishName}" data-jmlayat="${item.numberOfAyahs}">${item.number}</td>
            <td class="surat" data-idsurat="${item.number}" data-namesurat="${item.englishName}" data-jmlayat="${item.numberOfAyahs}">${item.name}</td>
            <td class="surat" data-idsurat="${item.number}" data-namesurat="${item.englishName}" data-jmlayat="${item.numberOfAyahs}">${item.englishName}</td>
            <td class="surat" data-idsurat="${item.number}" data-namesurat="${item.englishName}" data-jmlayat="${item.numberOfAyahs}">${item.numberOfAyahs} Ayat</td>
            </tr>
              `)
            .join('');
          const list = $('<div class="table-responsive"> <table class="table"/> </div>').html(head + markup);

          // tampilkan di kolom ke dua
          $showData.html(list);

          // Menampilkan Ayat Al-Qur'an
          $('.surat').on('click', (event) => {
            console.log($(event.target).data("idsurat"));

            var id = $(event.target).data("idsurat");
            var url = `https://api.alquran.cloud/v1/surah/` + id + `?offset=0&limit=10`;

            $.getJSON(url, (respon2) => {
              console.log(respon2.code);
              console.log(respon2.status);

              // mengatur ulang format respon dari json menjadi html
              var surah = $(event.target).data("namesurat");
              var ayahs = $(event.target).data("jmlayat");

              const head = '<tr><th>' + id + '</th><th>Surat ' + surah + '</th><th>' + ayahs + ' ayat</th></tr>';
              const markupAyah = respon2.data.ayahs
                .map(item => `
                <tr>
                  <td colspan="3">${item.text}</td>
                </tr>  
              `)
                .join('');

              const listAyah = $('<table class="table"/>').html(head + markupAyah);

              $showAyah.html(listAyah);
            });
          });

        });
      });

    });
  </script>
</body>

</html>